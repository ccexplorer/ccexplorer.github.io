var LZMAJS=LZMAJS||{};!function(e){"use strict";e.OutWindow=function(){this._windowSize=0},e.OutWindow.prototype.create=function(e){this._buffer&&this._windowSize===e||(this._buffer=new Uint8Array(e)),this._windowSize=e,this._pos=0,this._streamPos=0},e.OutWindow.prototype.flush=function(){var e=this._pos-this._streamPos;if(0!==e){if(this._stream.writeBytes)this._stream.writeBytes(this._buffer,e);else for(var t=0;t<e;t++)this._stream.writeByte(this._buffer[t]);this._pos>=this._windowSize&&(this._pos=0),this._streamPos=this._pos}},e.OutWindow.prototype.releaseStream=function(){this.flush(),this._stream=null},e.OutWindow.prototype.setStream=function(e){this.releaseStream(),this._stream=e},e.OutWindow.prototype.init=function(e){e||(this._streamPos=0,this._pos=0)},e.OutWindow.prototype.copyBlock=function(e,t){var i=this._pos-e-1;for(i<0&&(i+=this._windowSize);t--;)i>=this._windowSize&&(i=0),this._buffer[this._pos++]=this._buffer[i++],this._pos>=this._windowSize&&this.flush()},e.OutWindow.prototype.putByte=function(e){this._buffer[this._pos++]=e,this._pos>=this._windowSize&&this.flush()},e.OutWindow.prototype.getByte=function(e){var t=this._pos-e-1;return t<0&&(t+=this._windowSize),this._buffer[t]},e.RangeDecoder=function(){},e.RangeDecoder.prototype.setStream=function(e){this._stream=e},e.RangeDecoder.prototype.releaseStream=function(){this._stream=null},e.RangeDecoder.prototype.init=function(){var e=5;for(this._code=0,this._range=-1;e--;)this._code=this._code<<8|this._stream.readByte()},e.RangeDecoder.prototype.decodeDirectBits=function(e){for(var t,i=0,r=e;r--;)this._range>>>=1,t=this._code-this._range>>>31,this._code-=this._range&t-1,i=i<<1|1-t,0==(4278190080&this._range)&&(this._code=this._code<<8|this._stream.readByte(),this._range<<=8);return i},e.RangeDecoder.prototype.decodeBit=function(e,t){var i=e[t],r=(this._range>>>11)*i;return(2147483648^this._code)<(2147483648^r)?(this._range=r,e[t]+=2048-i>>>5,0==(4278190080&this._range)&&(this._code=this._code<<8|this._stream.readByte(),this._range<<=8),0):(this._range-=r,this._code-=r,e[t]-=i>>>5,0==(4278190080&this._range)&&(this._code=this._code<<8|this._stream.readByte(),this._range<<=8),1)},e.initBitModels=function(e,t){for(;t--;)e[t]=1024},e.BitTreeDecoder=function(e){this._models=[],this._numBitLevels=e},e.BitTreeDecoder.prototype.init=function(){e.initBitModels(this._models,1<<this._numBitLevels)},e.BitTreeDecoder.prototype.decode=function(e){for(var t=1,i=this._numBitLevels;i--;)t=t<<1|e.decodeBit(this._models,t);return t-(1<<this._numBitLevels)},e.BitTreeDecoder.prototype.reverseDecode=function(e){for(var t,i=1,r=0,o=0;o<this._numBitLevels;++o)i=i<<1|(t=e.decodeBit(this._models,i)),r|=t<<o;return r},e.reverseDecode2=function(e,t,i,r){for(var o,s=1,n=0,d=0;d<r;++d)s=s<<1|(o=i.decodeBit(e,t+s)),n|=o<<d;return n},e.LenDecoder=function(){this._choice=[],this._lowCoder=[],this._midCoder=[],this._highCoder=new e.BitTreeDecoder(8),this._numPosStates=0},e.LenDecoder.prototype.create=function(t){for(;this._numPosStates<t;++this._numPosStates)this._lowCoder[this._numPosStates]=new e.BitTreeDecoder(3),this._midCoder[this._numPosStates]=new e.BitTreeDecoder(3)},e.LenDecoder.prototype.init=function(){var t=this._numPosStates;for(e.initBitModels(this._choice,2);t--;)this._lowCoder[t].init(),this._midCoder[t].init();this._highCoder.init()},e.LenDecoder.prototype.decode=function(e,t){return 0===e.decodeBit(this._choice,0)?this._lowCoder[t].decode(e):0===e.decodeBit(this._choice,1)?8+this._midCoder[t].decode(e):16+this._highCoder.decode(e)},e.Decoder2=function(){this._decoders=[]},e.Decoder2.prototype.init=function(){e.initBitModels(this._decoders,768)},e.Decoder2.prototype.decodeNormal=function(e){var t=1;do{t=t<<1|e.decodeBit(this._decoders,t)}while(t<256);return 255&t},e.Decoder2.prototype.decodeWithMatchByte=function(e,t){var i,r,o=1;do{if(i=t>>7&1,t<<=1,o=o<<1|(r=e.decodeBit(this._decoders,(1+i<<8)+o)),i!==r){for(;o<256;)o=o<<1|e.decodeBit(this._decoders,o);break}}while(o<256);return 255&o},e.LiteralDecoder=function(){},e.LiteralDecoder.prototype.create=function(t,i){var r;if(!this._coders||this._numPrevBits!==i||this._numPosBits!==t)for(this._numPosBits=t,this._posMask=(1<<t)-1,this._numPrevBits=i,this._coders=[],r=1<<this._numPrevBits+this._numPosBits;r--;)this._coders[r]=new e.Decoder2},e.LiteralDecoder.prototype.init=function(){for(var e=1<<this._numPrevBits+this._numPosBits;e--;)this._coders[e].init()},e.LiteralDecoder.prototype.getDecoder=function(e,t){return this._coders[((e&this._posMask)<<this._numPrevBits)+((255&t)>>>8-this._numPrevBits)]},e.Decoder=function(){this._outWindow=new e.OutWindow,this._rangeDecoder=new e.RangeDecoder,this._isMatchDecoders=[],this._isRepDecoders=[],this._isRepG0Decoders=[],this._isRepG1Decoders=[],this._isRepG2Decoders=[],this._isRep0LongDecoders=[],this._posSlotDecoder=[],this._posDecoders=[],this._posAlignDecoder=new e.BitTreeDecoder(4),this._lenDecoder=new e.LenDecoder,this._repLenDecoder=new e.LenDecoder,this._literalDecoder=new e.LiteralDecoder,this._dictionarySize=-1,this._dictionarySizeCheck=-1,this._posSlotDecoder[0]=new e.BitTreeDecoder(6),this._posSlotDecoder[1]=new e.BitTreeDecoder(6),this._posSlotDecoder[2]=new e.BitTreeDecoder(6),this._posSlotDecoder[3]=new e.BitTreeDecoder(6)},e.Decoder.prototype.setDictionarySize=function(e){return!(e<0||(this._dictionarySize!==e&&(this._dictionarySize=e,this._dictionarySizeCheck=Math.max(this._dictionarySize,1),this._outWindow.create(Math.max(this._dictionarySizeCheck,4096))),0))},e.Decoder.prototype.setLcLpPb=function(e,t,i){var r=1<<i;return!(e>8||t>4||i>4||(this._literalDecoder.create(t,e),this._lenDecoder.create(r),this._repLenDecoder.create(r),this._posStateMask=r-1,0))},e.Decoder.prototype.setProperties=function(e){if(!this.setLcLpPb(e.lc,e.lp,e.pb))throw Error("Incorrect stream properties");if(!this.setDictionarySize(e.dictionarySize))throw Error("Invalid dictionary size")},e.Decoder.prototype.decodeHeader=function(e){var t,i,r,o,s,n;return!(e.size<13)&&(i=(t=e.readByte())%9,r=(t=~~(t/9))%5,o=~~(t/5),n=e.readByte(),n|=e.readByte()<<8,n|=e.readByte()<<16,n+=16777216*e.readByte(),s=e.readByte(),s|=e.readByte()<<8,s|=e.readByte()<<16,s+=16777216*e.readByte(),e.readByte(),e.readByte(),e.readByte(),e.readByte(),{lc:i,lp:r,pb:o,dictionarySize:n,uncompressedSize:s})},e.Decoder.prototype.init=function(){var t=4;for(this._outWindow.init(!1),e.initBitModels(this._isMatchDecoders,192),e.initBitModels(this._isRep0LongDecoders,192),e.initBitModels(this._isRepDecoders,12),e.initBitModels(this._isRepG0Decoders,12),e.initBitModels(this._isRepG1Decoders,12),e.initBitModels(this._isRepG2Decoders,12),e.initBitModels(this._posDecoders,114),this._literalDecoder.init();t--;)this._posSlotDecoder[t].init();this._lenDecoder.init(),this._repLenDecoder.init(),this._posAlignDecoder.init(),this._rangeDecoder.init()},e.Decoder.prototype.decodeBody=function(t,i,r){var o,s,n,d,c,h,a=0,_=0,u=0,p=0,f=0,D=0,l=0;for(this._rangeDecoder.setStream(t),this._outWindow.setStream(i),this.init();r<0||D<r;)if(o=D&this._posStateMask,0===this._rangeDecoder.decodeBit(this._isMatchDecoders,(a<<4)+o))s=this._literalDecoder.getDecoder(D++,l),l=a>=7?s.decodeWithMatchByte(this._rangeDecoder,this._outWindow.getByte(_)):s.decodeNormal(this._rangeDecoder),this._outWindow.putByte(l),a=a<4?0:a-(a<10?3:6);else{if(1===this._rangeDecoder.decodeBit(this._isRepDecoders,a))n=0,0===this._rangeDecoder.decodeBit(this._isRepG0Decoders,a)?0===this._rangeDecoder.decodeBit(this._isRep0LongDecoders,(a<<4)+o)&&(a=a<7?9:11,n=1):(0===this._rangeDecoder.decodeBit(this._isRepG1Decoders,a)?d=u:(0===this._rangeDecoder.decodeBit(this._isRepG2Decoders,a)?d=p:(d=f,f=p),p=u),u=_,_=d),0===n&&(n=2+this._repLenDecoder.decode(this._rangeDecoder,o),a=a<7?8:11);else if(f=p,p=u,u=_,n=2+this._lenDecoder.decode(this._rangeDecoder,o),a=a<7?7:10,(c=this._posSlotDecoder[n<=5?n-2:3].decode(this._rangeDecoder))>=4){if(_=(2|1&c)<<(h=(c>>1)-1),c<14)_+=e.reverseDecode2(this._posDecoders,_-c-1,this._rangeDecoder,h);else if(_+=this._rangeDecoder.decodeDirectBits(h-4)<<4,(_+=this._posAlignDecoder.reverseDecode(this._rangeDecoder))<0){if(-1===_)break;return!1}}else _=c;if(_>=D||_>=this._dictionarySizeCheck)return!1;this._outWindow.copyBlock(_,n),D+=n,l=this._outWindow.getByte(0)}return this._outWindow.flush(),this._outWindow.releaseStream(),this._rangeDecoder.releaseStream(),!0},e.Decoder.prototype.setDecoderProperties=function(e){var t,i,r,o,s;return!(e.size<5)&&(i=(t=e.readByte())%9,r=(t=~~(t/9))%5,o=~~(t/5),!!this.setLcLpPb(i,r,o)&&(s=e.readByte(),s|=e.readByte()<<8,s|=e.readByte()<<16,s+=16777216*e.readByte(),this.setDictionarySize(s)))},e.decompress=function(t,i,r,o){var s=new e.Decoder;if(!s.setDecoderProperties(t))throw Error("Incorrect LZMAJS stream properties");if(!s.decodeBody(i,r,o))throw Error("Error in LZMAJS data stream");return r},e.decompressFile=function(t,i){t instanceof ArrayBuffer&&(t=new e.iStream(t)),!i&&e.oStream&&(i=new e.oStream);var r=new e.Decoder,o=r.decodeHeader(t),s=o.uncompressedSize;if(r.setProperties(o),!r.decodeBody(t,i,s))throw Error("Error in LZMAJS data stream");return i},e.decode=e.decompressFile,e.iStream=function(e){this.array=new Uint8Array(e),this.size=e.byteLength,this.offset=0},e.iStream.prototype.readByte=function(){return this.array[this.offset++]},e.oStream=function(t){this.size=0,this.buffers=[];for(var i=0,r=(t=t||[]).length;i<r;i++)if(t[i]instanceof e.oStream)for(var o=t[i].buffers,s=0;s<o.length;s++)this.buffers.push(t[i].buffers[s]),this.size+=t[i].buffers[s].length;else this.buffers.push(t[i]),this.size+=t[i].length},e.oStream.prototype.writeBytes=function(e,t){if(!(t<=e.byteLength))throw Error("Buffer too small?");this.buffers.push(e.slice(0,t)),this.size+=t},e.oStream.prototype.toUint8Array=function(){var e=this.size,t=this.buffers;if(1==t.length)return t[0];try{for(var i=new Uint8Array(e),r=0,o=0;r<t.length;r++)i.set(t[r],o),o+=t[r].length;return t[0]=i,t.length=1,i}catch(t){console.error("Error allocating Uint8Array of size: ",e),console.error("Message given was: ",t.toString())}return null},e.oStream.prototype.forEach=function(e){for(var t=0;t<this.buffers.length;t++)e.call(this,this.buffers[t])},e.oStream.prototype.toCodePoints=function(){return e.UTF8||this.toUint8Array(),e.UTF8.decode(this.toUint8Array())},e.oStream.prototype.toString=function(){var t=this.buffers,i="";e.UTF8&&(t=[this.toCodePoints()]);for(var r=0,o=t.length;r<o;r++)for(var s=0,n=t[r].length;s<n;s++)i+=String.fromCharCode(t[r][s]);return i}}(LZMAJS),self.onmessage=function(e){let t=e.data,i=new LZMAJS.oStream;try{LZMAJS.decode(t,i)}catch(e){self.postMessage(e)}self.postMessage(i.toUint8Array())};